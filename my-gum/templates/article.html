{% extends "base.html" %}
{% block title %}{{ article.title|striptags }}{% endblock %}
{% block content %}
<section id="content" class="body">
   <div class="row">
        <div class="columns">
            <header>
              <h2 class="entry-title">
                <a href="{{ SITEURL }}/{{ article.url }}" rel="bookmark" title="Permalink to {{ article.title|striptags }}">{{ article.title }}</a></h2>
           {% import 'translations.html' as translations with context %}
           {{ translations.translations_for(article) }}
            </header>
            <footer class="post-info">
              <abbr class="published" title="{{ article.date.isoformat() }}">
                {{ article.locale_date }}
              </abbr>
              {% if article.author %}
              <address class="vcard author">
                By <a class="url fn" href="{{ SITEURL }}/{{ article.author.url }}">{{ article.author }}</a>
              </address>
              {% endif %}
            </footer><!-- /.post-info -->
            <div class="entry-content">
              {{ article.content }}
            </div><!-- /.entry-content -->
            <div class="comments">
              {% if GITALK_CLIENT_ID and GITALK_CLIENT_SECRET %}
              <div id="gitalk-container"></div>
              <script type="text/javascript">
                const gitalk = new Gitalk({
                  clientID: '{{ GITALK_CLIENT_ID }}',
                  clientSecret: '{{ GITALK_CLIENT_SECRET }}',
                  repo: '{{ GITALK_REPO }}',
                  owner: '{{ GITALK_OWNER }}',
                  admin: ['{{ GITALK_OWNER }}'],
                  id: location.pathname,      // Ensure uniqueness and length less than 50
                  distractionFreeMode: false  // Facebook-like distraction free mode
                });
                gitalk.render('gitalk-container');
              </script>
              {% endif %}
              {% if DISQUS_SITENAME %}
              <div id="disqus_thread"></div>
              <script type="text/javascript">
                var disqus_identifier = "{{ article.url }}";
                (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://{{ DISQUS_SITENAME }}.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
              </script>
              {% endif %}
            </div>
        </div><!-- /.twelve.columns -->
 </div><!-- /.row -->
</section>
{% endblock %}
